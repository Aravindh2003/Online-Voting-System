{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\sarav\\\\OneDrive\\\\Desktop\\\\Next24\\\\Elect.me\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\sarav\\\\OneDrive\\\\Desktop\\\\Next24\\\\Elect.me\\\\src\\\\pages\\\\VoterList.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Skeleton from './skeleton';\nvar VoterList = function VoterList() {\n  var location = useLocation();\n  console.log(location.state.id);\n  var id = location.state.id;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    voters = _useState2[0],\n    setVoters = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isLoading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isVotersLoaded = _useState8[0],\n    setIsVotersLoaded = _useState8[1];\n  var token = localStorage.getItem('token');\n  useEffect(function () {\n    // if(location.state !== null){\n    //   id = location.state.id;\n    // }\n    fetch('https://elect-server-opal.vercel.app/api/poll/voterlist/' + id, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(function (res) {\n      //return res.json();\n      if (!res.ok) {\n        console.log(res);\n        throw Error(\"fetching is not successful\");\n      } else {\n        console.log(res);\n        return res.json();\n      }\n    }).then(function (data) {\n      console.log(data);\n      setVoters(data.voter);\n      setIsLoading(false);\n      setIsVotersLoaded(true);\n      setError(null);\n    }).catch(function (error) {\n      setError(error.message);\n      setIsLoading(false);\n    });\n  }, []);\n  console.log(voters);\n  console.log(voters);\n  var votersElements = voters && voters.map(function (index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"article\", {\n      className: \"poll m-4 d-flex justify-content-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"poll__name text-center fs-4 fw-bold\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, index.votermail)));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, error && /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }, error), isLoading && [1, 2, 3, 4, 5, 6, 7].map(function (n) {\n    return /*#__PURE__*/React.createElement(Skeleton, {\n      key: n,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 50\n      }\n    });\n  }), isVotersLoaded && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 28\n    }\n  }, \"Voter List\"), votersElements);\n};\nexport default VoterList;","map":{"version":3,"names":["React","useState","useEffect","useLocation","Skeleton","VoterList","location","console","log","state","id","_useState","_useState2","_slicedToArray","voters","setVoters","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","_useState7","_useState8","isVotersLoaded","setIsVotersLoaded","token","localStorage","getItem","fetch","headers","then","res","ok","Error","json","data","voter","catch","message","votersElements","map","index","createElement","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","votermail","n","key"],"sources":["C:/Users/sarav/OneDrive/Desktop/Next24/Elect.me/src/pages/VoterList.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\nimport Skeleton from './skeleton';\r\n\r\nconst VoterList = () => {\r\n    const location = useLocation();\r\n    console.log(location.state.id)\r\n    const id = location.state.id;\r\n\r\n  const [voters, setVoters] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isVotersLoaded, setIsVotersLoaded] = useState(false);\r\n  const token = localStorage.getItem('token');\r\n  useEffect(() => {\r\n    // if(location.state !== null){\r\n    //   id = location.state.id;\r\n    // }\r\n    fetch('https://elect-server-opal.vercel.app/api/poll/voterlist/'+id,{headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': 'Bearer '+token,\r\n    },}).then((res) => {\r\n      //return res.json();\r\n      if(!res.ok){\r\n        console.log(res)\r\n        throw Error(\"fetching is not successful\");\r\n      }\r\n      else {\r\n        console.log(res)\r\n        return res.json();\r\n      }\r\n    }).then((data) => {\r\n        console.log(data)\r\n        setVoters(data.voter);\r\n        setIsLoading(false);\r\n        setIsVotersLoaded(true);\r\n        setError(null);\r\n      \r\n    }).catch((error) => {\r\n      setError(error.message);\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n  console.log(voters)\r\n  console.log(voters)\r\n\r\n  const votersElements = voters && voters.map((index) =>\r\n  <div className='d-flex justify-content-center'>\r\n      <article className=\"poll m-4 d-flex justify-content-center\">\r\n        <p className=\"poll__name text-center fs-4 fw-bold\">{index.votermail}</p>\r\n      </article>\r\n    \r\n  </div>\r\n    );\r\n\r\n  return (\r\n    <div>\r\n      \r\n        {error && <p>{error}</p>}\r\n        {isLoading && [1,2,3,4,5,6,7].map((n) => <Skeleton    key={n}/>)}\r\n        {isVotersLoaded && <h1 className=\"text-center\">Voter List</h1>}\r\n        {votersElements}\r\n        \r\n\r\n       </div>\r\n  );\r\n}\r\n\r\nexport default VoterList"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}